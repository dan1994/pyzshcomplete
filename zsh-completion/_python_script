#compdef -p *.py

function _python_script() {
    # Skip any other completion function
    _compskip=all

    local script=${words[1]}
    local arguments=(${(f)"$(PYZSHCOMPLETE=1 ${script} 2> /dev/null)"})
    _arguments -s -w : ${arguments[@]}
}
